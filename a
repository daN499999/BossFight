
import random
# Boss stats
hp2 = random.randint(5, 20)
print(f'The boss HP is: {hp2}')

# Player stats
hp = 10
potion = 0
damage = 1
armor = 0
round_num = 1

print('Howdy, lets fight this boss!!')
print(f'Starting stats: HP={hp}, Damage={damage}, Armor={armor}')

# Starting item
print('What item do you want to start with?')
print('1. Get heal potion (+5 HP)')
print('2. +1 damage boost')
print('3. +1 armor')

while True:
    try:
        choice = int(input("Choose a number 1-3: "))
    except ValueError:
        print("Please enter a number.")
        continue

    if choice == 1:
        potion += 1
        print(f'You got a heal potion! Potions={potion}')
        break
    elif choice == 2:
        damage += 1
        print(f'Your attack increased! Damage={damage}')
        break
    elif choice == 3:
        armor += 1
        print(f'Your armor increased! Armor={armor}')
        break
    else:
        print("Try again.")

# Fight loop
while hp > 0 and hp2 > 0:
    print(f'\n--- Round {round_num} ---')
    print(f'Your stats: HP={hp}, Damage={damage}, Armor={armor}, Potions={potion}')
    print(f'Boss HP={hp2}')

    # Player turn
    print('What do you want to do?')
    print('1. Heal up with a potion (+5 HP)')
    print('2. Attack')
    print('3. Run away')
    
    try:
        action = int(input("Choose a number 1-3: "))
    except ValueError:
        print("Invalid input! You lose your turn.")
        action = 0

    if action == 3:
        print('You ran away! You lost.')
        break
    elif action == 1:
        if potion > 0:
            hp += 5
            potion -= 1
            print(f'You healed! HP={hp}, Potions left={potion}')
        else:
            print('No potions left! You lose your turn.')
    elif action == 2:
        hp2 -= damage
        print(f'You hit the boss! Boss HP={hp2}')
        if hp2 <= 0:
            print('You defeated the boss!')
            break
    else:
        print('Invalid choice! You lose your turn.')

    # Boss turn
    boss_damage = random.randint(1, round_num + 2)
    total_damage = max(boss_damage - armor, 0)
    hp -= total_damage
    print(f'The boss attacks for {boss_damage}! After armor, you take {total_damage} damage. HP={hp}')

    if hp <= 0:
        print('You lost... try again.')
        break

    # Treasure after the round
    print('You found a treasure! Choose your reward:')
    print('1. Heal potion')
    print('2. Damage +1')
    print('3. Armor +1')

    try:
        reward = int(input("Choose a number 1-3: "))
    except ValueError:
        print("Invalid input! You get nothing this round.")
        reward = 0

    if reward == 1:
        potion += 1
        print(f'You got a potion! Potions={potion}')
    elif reward == 2:
        damage += 1
        print(f'Your damage increased! Damage={damage}')
    elif reward == 3:
        armor += 1
        print(f'Your armor increased! Armor={armor}')
    else:
        print('No reward this round.')

    round_num += 1
